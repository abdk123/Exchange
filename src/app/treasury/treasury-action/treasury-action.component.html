<div class="row">
    <div class="col-md-12">
        <form class="form-horizontal" autocomplete="off" #createTransferForm="ngForm" (ngSubmit)="save()">
            <nb-card class="as-case-card">
                <nb-card-header>
                    <nb-actions>
                        <nb-action class="control-item" icon="archive-outline"></nb-action>
                        <nb-action class="control-item ">
                            <h5>{{ "Treasury" | localize }}</h5>
                        </nb-action>
                    </nb-actions>

                </nb-card-header>
                <nb-card-body class="as-case-card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group row required">
                                <label class="col-md-3 col-form-label" for="actionType">
                                    {{ "ActionType" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <ejs-dropdownlist 
                                    id='actionType' 
                                    name='actionType' 
                                    cssClass="as-sy-input"
                                    [dataSource]='actionTypes' 
                                    [enableRtl]="true" 
                                    [fields]='fields' 
                                    (change)='onChangeActionType($event)'
                                    required
                                    [(ngModel)]="actionType.id"
                                    #actionTypeModel="ngModel" 
                                    #actionTypeEl
                                    ></ejs-dropdownlist>
                                    <abp-validation-summary [control]="actionTypeModel" [controlEl]="actionTypeEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row required">
                                <label class="col-md-3 col-form-label" for="date">
                                    {{ "Date" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <ejs-datepicker 
                                    id='date' 
                                    name='date' 
                                    cssClass="as-sy-input"
                                    locale='ar-SY'
                                    required
                                    placeholder="{{ 'SelectDate' | localize }}"
                                    [(ngModel)]="date"
                                    #dateModel="ngModel" 
                                    #dateEl
                                    ></ejs-datepicker>
                                    <abp-validation-summary [control]="dateModel" [controlEl]="dateEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row required">
                                <label class="col-md-3 col-form-label" for="currency">
                                    {{ "Currency" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <ejs-dropdownlist 
                                    id='currency' 
                                    name='currency' 
                                    cssClass="as-sy-input"
                                    [dataSource]='currencies' 
                                    [enableRtl]="true" 
                                    [fields]='fields' 
                                    required
                                    [(ngModel)]="currency.id"
                                    #currencyModel="ngModel" 
                                    #currencyEl
                                    ></ejs-dropdownlist>
                                    <abp-validation-summary [control]="currencyModel" [controlEl]="currencyEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <hr />
                    <!--  -->
                    <div class="row">
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group row required">
                                        <label class="col-md-3 col-form-label" for="mainAccount">
                                            {{ "MainAccount" | localize }}
                                        </label>
                                        <div  class="col-md-9">
                                            <ejs-dropdownlist 
                                            id='mainAccount' 
                                            name='mainAccount' 
                                            cssClass="as-sy-input"
                                            [dataSource]='mainAccounts' 
                                            [enableRtl]="true" 
                                            [fields]='fields' 
                                            required
                                            [(ngModel)]="mainAccount.id"
                                            #mainAccountModel="ngModel" 
                                            #mainAccountEl
                                            ></ejs-dropdownlist>
                                            <abp-validation-summary [control]="mainAccountModel" [controlEl]="mainAccountEl">
                                            </abp-validation-summary>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" *ngIf="mainAccount.id == 0">
                                    <div class="form-group row required">
                                        <label class="col-md-3 col-form-label" for="fromClient">
                                            {{ "Client" | localize }}
                                        </label>
                                        <div  class="col-md-9">
                                            <ejs-dropdownlist 
                                            id='fromClient' 
                                            name='fromClient' 
                                            cssClass="as-sy-input"
                                            [dataSource]='clients' 
                                            [enableRtl]="true" 
                                            [fields]='fields' 
                                            required
                                            [(ngModel)]="fromClient.id"
                                            #fromClientModel="ngModel" 
                                            #fromClientEl
                                            ></ejs-dropdownlist>
                                            <abp-validation-summary [control]="fromClientModel" [controlEl]="fromClientEl">
                                            </abp-validation-summary>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" *ngIf="mainAccount.id == 1">
                                    <div class="form-group row required">
                                        <label class="col-md-3 col-form-label" for="fromCompany">
                                            {{ "FromCompany" | localize }}
                                        </label>
                                        <div  class="col-md-9">
                                            <ejs-dropdownlist 
                                            id='fromCompany' 
                                            name='fromCompany' 
                                            cssClass="as-sy-input"
                                            [dataSource]='companies' 
                                            [enableRtl]="true" 
                                            [fields]='fields' 
                                            required
                                            [(ngModel)]="fromCompany.id"
                                            #fromCompanyModel="ngModel" 
                                            #fromCompanyEl
                                            ></ejs-dropdownlist>
                                            <abp-validation-summary [control]="fromCompanyModel" [controlEl]="fromCompanyEl">
                                            </abp-validation-summary>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" *ngIf="mainAccount.id == 4">
                                    <div class="form-group row required">
                                        <label class="col-md-3 col-form-label" for="beneficiary">
                                            {{ "Beneficiary" | localize }}
                                        </label>
                                        <div  class="col-md-9">
                                            <ejs-dropdownlist 
                                            id='beneficiary' 
                                            name='beneficiary' 
                                            cssClass="as-sy-input"
                                            [dataSource]='customers' 
                                            [enableRtl]="true" 
                                            [fields]='fields' 
                                            required
                                            [(ngModel)]="beneficiary.id"
                                            #beneficiaryModel="ngModel" 
                                            #beneficiaryEl
                                            ></ejs-dropdownlist>
                                            <abp-validation-summary [control]="beneficiaryModel" [controlEl]="beneficiaryEl">
                                            </abp-validation-summary>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" *ngIf="mainAccount.id == 3">
                                    <div class="form-group row required">
                                        <label class="col-md-3 col-form-label" for="expense">
                                            {{ "Expense" | localize }}
                                        </label>
                                        <div  class="col-md-9">
                                            <ejs-dropdownlist 
                                            id='expense' 
                                            name='expense' 
                                            cssClass="as-sy-input"
                                            [dataSource]='expenses' 
                                            [enableRtl]="true" 
                                            [fields]='fields' 
                                            required
                                            [(ngModel)]="expense.id"
                                            #expenseModel="ngModel" 
                                            #expenseEl
                                            ></ejs-dropdownlist>
                                            <abp-validation-summary [control]="expenseModel" [controlEl]="expenseEl">
                                            </abp-validation-summary>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" *ngIf="mainAccount.id == 2">
                                    <div class="form-group row required">
                                        <label class="col-md-3 col-form-label" for="income">
                                            {{ "Income" | localize }}
                                        </label>
                                        <div  class="col-md-9">
                                            <ejs-dropdownlist 
                                            id='income' 
                                            name='income' 
                                            cssClass="as-sy-input"
                                            [dataSource]='incomes' 
                                            [enableRtl]="true" 
                                            [fields]='fields' 
                                            required
                                            [(ngModel)]="income.id"
                                            #incomeModel="ngModel" 
                                            #incomeEl
                                            ></ejs-dropdownlist>
                                            <abp-validation-summary [control]="incomeModel" [controlEl]="incomeEl">
                                            </abp-validation-summary>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group row required">
                                        <label class="col-md-3 col-form-label" for="amount">
                                            {{ "Amount" | localize }}
                                        </label>
                                        <div  class="col-md-9">
                                            <ejs-numerictextbox 
                                            id='amount' 
                                            name='amount' 
                                            cssClass="as-sy-input"
                                            [enableRtl]="true" 
                                            required
                                            [(ngModel)]="amount"
                                            #amountModel="ngModel" 
                                            #amountEl
                                            ></ejs-numerictextbox>
                                            <abp-validation-summary [control]="amountModel" [controlEl]="amountEl">
                                            </abp-validation-summary>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 balance-box">
                            <div class="form-group row">
                                <label class="col-md-5 balance-text col-form-label" for="companyBalance">
                                    {{ "PreviousBalance" | localize }}
                                </label>
                                <div  class="col-md-7">
                                    <input class="e-input as-sy-input" type="text" tabindex="-1"  value="{{ getAmountWithCurrency(0) }}" readonly />
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-5 balance-text col-form-label" for="companyBalance">
                                    {{ "CurrentBalance" | localize }}
                                </label>
                                <div  class="col-md-7">
                                    <input class="e-input as-sy-input" type="text" tabindex="-1"  value="{{ getAmountWithCurrency(0) }}" readonly />
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <!--  -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group row required">
                                <label class="col-md-3 col-form-label" for="exchangeParty">
                                    {{ "ExchangeParty" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <ejs-dropdownlist 
                                    id='exchangeParty' 
                                    name='exchangeParty' 
                                    cssClass="as-sy-input"
                                    [dataSource]='companies' 
                                    [enableRtl]="true" 
                                    [fields]='fields' 
                                    required
                                    [(ngModel)]="fromCompany.id"
                                    #exchangePartyModel="ngModel" 
                                    #exchangePartyEl
                                    ></ejs-dropdownlist>
                                    <abp-validation-summary [control]="exchangePartyModel" [controlEl]="exchangePartyEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="instrumentNo">
                                    {{ "InstrumentNo" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <textarea
                                    id='instrumentNo' 
                                    name='instrumentNo' 
                                    class="e-input as-sy-input"
                                    autocomplete="off"  
                                    [(ngModel)]="instrumentNo"
                                    #instrumentNoModel="ngModel" 
                                    #instrumentNoEl
                                    ></textarea>
                                    <abp-validation-summary [control]="instrumentNoModel" [controlEl]="instrumentNoEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="identificationNumber">
                                    {{ "IdentificationNumber" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <textarea
                                    id='identificationNumber' 
                                    name='identificationNumber' 
                                    class="e-input as-sy-input"
                                    autocomplete="off"  
                                    [(ngModel)]="identificationNumber"
                                    #identificationNumberModel="ngModel" 
                                    #identificationNumberEl
                                    ></textarea>
                                    <abp-validation-summary [control]="identificationNumberModel" [controlEl]="identificationNumberEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="issuer">
                                    {{ "issuer" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <textarea
                                    id='issuer' 
                                    name='issuer' 
                                    class="e-input as-sy-input"
                                    autocomplete="off"  
                                    [(ngModel)]="issuer"
                                    #issuerModel="ngModel" 
                                    #issuerEl
                                    ></textarea>
                                    <abp-validation-summary [control]="issuerModel" [controlEl]="issuerEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group row">
                                <label class="col-md-3 col-form-label" for="note">
                                    {{ "Note" | localize }}
                                </label>
                                <div  class="col-md-9">
                                    <textarea
                                    id='note' 
                                    name='note' 
                                    class="e-input as-sy-input"
                                    autocomplete="off"  
                                    [(ngModel)]="note"
                                    #noteModel="ngModel" 
                                    #noteEl
                                    ></textarea>
                                    <abp-validation-summary [control]="noteModel" [controlEl]="noteEl">
                                    </abp-validation-summary>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </nb-card-body>
                <nb-card-footer>
                    <button nbButton status="primary" type="submit" >
                        <nb-icon icon="save"></nb-icon>
                        {{ 'Save' | localize }}
                    </button>
                </nb-card-footer>
            </nb-card>
        </form>
    </div>
</div>

<!-- <ejs-dropdownlist id='dropdownlist-template' [dataSource]='data' [fields]='fields' [sortOrder]='sorting' [query]='query' [popupHeight]='height' [placeholder]='text' [itemTemplate]='itemTemplate'>
    <ng-template #itemTemplate="" let-data="">
        <span><span class='name'> {{data.FirstName}}</span><span class ='city'>{{data.City}}</span></span>
    </ng-template>
</ejs-dropdownlist> -->