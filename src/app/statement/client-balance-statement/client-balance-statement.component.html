<form class="form-horizontal" autocomplete="off" #searchClientBalanceForm="ngForm" (ngSubmit)="filter()">
    <div class="row">
        <div class="col-md-12">
            <nb-card class="as-case-card">
                <nb-card-header>
                    <nb-actions>
                        <nb-action class="control-item" icon="file-text-outline"></nb-action>
                        <nb-action class="control-item ">
                            <h5>{{ "ClientBalanceStatement" | localize }}</h5> 
                        </nb-action>
                    </nb-actions>
                </nb-card-header>
                <nb-card-body class="as-case-card-body">
                    <!-- Search Box -->
                    
                        <div class="row">
                            <div class="col-md-10">
                                
                                <div class="row">
                                    <div class="col-md-3">
                                        <ejs-dropdownlist id='clientId' name='clientId' cssClass="as-sy-input" [dataSource]='clients'
                                            [enableRtl]="true" [fields]='fields' required [(ngModel)]="input.clientId" placeholder="{{'Client' | localize}}"
                                            floatLabelType="Auto" #clientIdModel="ngModel" #clientIdEl></ejs-dropdownlist>
                                        <abp-validation-summary [control]="clientIdModel" [controlEl]="clientIdEl">
                                        </abp-validation-summary>
                                    </div>
                                    <div class="col-md-3">
                                        <ejs-dropdownlist id='currencyId' name='currencyId' cssClass="as-sy-input" [dataSource]='currencies'
                                            [enableRtl]="true" [fields]='fields' required [(ngModel)]="input.currencyId"  placeholder="{{'Currency' | localize}}"
                                            floatLabelType="Auto" #currencyIdModel="ngModel" #currencyIdEl></ejs-dropdownlist>
                                        <abp-validation-summary [control]="currencyIdModel" [controlEl]="currencyIdEl">
                                        </abp-validation-summary>
                                    </div>
                                    <div class="col-md-3">
                                        <ejs-datepicker id='fromDate' name='fromDate' cssClass="as-sy-input" locale='ar-SY' required
                                        floatLabelType="Auto" placeholder="{{ 'FromDate' | localize }}" [(ngModel)]="input.fromDate" #fromDateModel="ngModel"
                                            #fromDateEl ></ejs-datepicker>
                                        <abp-validation-summary [control]="fromDateModel" [controlEl]="fromDateEl">
                                        </abp-validation-summary>
                                    </div>
                                    <div class="col-md-3">
                                        <ejs-datepicker id='toDate' name='toDate' cssClass="as-sy-input" locale='ar-SY' required
                                        floatLabelType="Auto" placeholder="{{ 'ToDate' | localize }}" [(ngModel)]="input.toDate" #toDateModel="ngModel"
                                            #toDateEl></ejs-datepicker>
                                        <abp-validation-summary [control]="toDateModel" [controlEl]="toDateEl">
                                        </abp-validation-summary>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <button nbButton status="primary" type="submit" [disabled]="!searchClientBalanceForm.form.valid">
                                    <nb-icon icon="search"></nb-icon>
                                    {{ 'Search' | localize }}
                                </button>
                            </div>
                        </div>
                    <hr />
                    <!-- Grid -->
                    <div class="row">
                        <div class="col-md-12">
                            <ejs-grid id="CashFlowGrid" #cashFlowGrid [dataSource]="dataSource" [allowPaging]="true"
                            [enableRtl]='true' height='31vh' width='100%'
                            [pageSettings]="pageSettings">
                                
                                <e-columns>
                                    <e-column field="id" headerText="Id" isPrimaryKey="true" [visible]="false"></e-column>
                                    <e-column field="currentBalance" headerText="{{l('Balance')}}" textAlign="center" width=150>
                                        <ng-template #template let-data>{{ getBalance(data.currentBalance) }}</ng-template>
                                    </e-column>
                                    <e-column headerText="{{l('Amount')}}" textAlign="center" width=150>
                                        <ng-template #template let-data>{{ getBalance(data.amount) }}</ng-template>
                                    </e-column>
                                    <e-column headerText="{{l('Commission')}}" textAlign="center" width=120>
                                        <ng-template #template let-data>{{ getCommission(data.commission) }}</ng-template>
                                    </e-column>
                                    <e-column field="type" headerText="{{l('Type')}}" textAlign="center" width=120></e-column>
                                    <e-column field="date" format='dd/MM/yyyy hh:mm' type='date' headerText="{{l('Date')}}" width="200" textAlign="center">
                                        
                                    </e-column>
                                    <e-column field="note" headerText="{{l('Note')}}" textAlign="center" width=150></e-column>
                                    <e-column field="instrumentNo" headerText="{{l('InstrumentNo')}}" textAlign="center" width=120></e-column>
                                    <e-column   headerText="{{l('Matcher')}}" textAlign="center" width=150></e-column>
                                </e-columns>
                            </ejs-grid>
                        </div>
                    </div>
                    
                </nb-card-body>
            </nb-card>
        </div>
    </div>

</form>